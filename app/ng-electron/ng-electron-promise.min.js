!function(e,r){"use strict";function o(){return d+=1,d>1e4&&(d=0),d}function t(){p.onmessage.hasOwnProperty(this.promise)&&(p.onmessage[this.promise].cb.resolve(this),delete p.onmessage[this.promise],delete this.promise)}function i(e){t.apply(e)}var n="ELECTRON_BRIDGE_HOST",s="ELECTRON_BRIDGE_CLIENT",u="electron-host",c="client/data",a=null,l=null,d=0,p={onmessage:[]};try{a=require("ipc")}catch(m){console.error("modules not loaded:ipc => ",m)}try{l=require("diskdb")}catch(m){console.error("modules not loaded:diskdb => ",m)}var q=function(){var e=new Object,t=r.injector(["ng"]),d=t.get("$rootScope"),m=t.get("$q");e.send=function(e,r){if(a){{var t=m.defer(),r="object"==typeof r?r:{},i=o(),s=typeof arguments[0];typeof arguments[1]}return"object"===s&&(r=e,e="undefined"==typeof r.promise?i:r.promise),p.onmessage[i]={time:new Date,cb:t},a.send(n,{eventType:e,promise:i,msg:r}),t.promise}},e.db=function(e){if(l){var r=[];return"object"==typeof e?r=e:"string"==typeof e&&r.push(e),l.connect(c,r)}return"diskdb is not installed and/or configured."};try{e.require=require("remote").require,e.remote=require("remote"),e.app=e.require("app"),e.browserWindow=e.require("browser-window"),e.clipboard=e.require("clipboard"),e.dialog=e.require("dialog"),e.menu=e.require("menu"),e.menuItem=e.require("menu-item"),e.nativeImage=e.require("native-image"),e.powerMonitor=e.require("power-monitor"),e.protocol=e.require("protocol"),e.screen=e.require("screen"),e.shell=e.require("shell"),e.tray=e.require("tray"),e.buffer=e.require("buffer"),e.childProcess=e.require("child_process"),e.crypto=e.require("crypto"),e.dns=e.require("dns"),e.emitter=e.require("events").EventEmitter,e.fs=e.require("fs"),e.http=e.require("http"),e.https=e.require("https"),e.net=e.require("net"),e.os=e.require("os"),e.path=e.require("path"),e.querystring=e.require("querystring"),e.url=e.require("url"),e.zlib=e.require("zlib")}catch(q){console.error("electron modules not loaded => ",q)}return a&&(console.log("ngElectron has joined the room."),a.on(s,function(e){d.$broadcast(u,e),i(e)}),d.$electron=e),e};e.Electron=q}("object"==typeof window?window:this,window.angular);