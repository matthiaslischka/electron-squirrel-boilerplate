!function(){"use strict";importScripts("https://cdn.socket.io/socket.io-1.3.5.js");var e=[];self.addEventListener("connect",function(t){var s=t.ports[0],n=io(self.name);e.push(s),s.start(),s.onmessage=function(e){var t=e.data;if("undefined"!=typeof t)switch(t.cmd){case"send":var a=t.eventType,c=t.message;a?n.emit(a,c,function(e){e.callback&&s.postMessage({type:"_callback",data:e})}):n.send(c,function(e){e.callback&&s.postMessage({type:"_callback",data:e})}),s.postMessage({type:"_send",data:c});break;default:s.postMessage(t)}},s.start(),e.length>1&&s.postMessage({type:"_reconnect"}),n.on("connect",function(){s.postMessage({type:"_connect"})}),n.on("disconnect",function(){s.postMessage({type:"_disconnect"})}),n.on("message",function(e){s.postMessage({type:"_message",data:e})})})}();
