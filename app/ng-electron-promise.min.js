!function(e){"use strict";function r(){return p+=1,p>1e4&&(p=0),p}function o(){m.onmessage.hasOwnProperty(this.promise)&&(m.onmessage[this.promise].cb.resolve(this),delete m.onmessage[this.promise],delete this.promise)}function t(e){o.apply(e)}function i(e){var o={};o.send=function(o,t){if(a){{var i=e.defer(),t="object"==typeof t?t:{},n=r(),s=typeof arguments[0];typeof arguments[1]}return"object"===s&&(t=o,o=void 0===t.promise?n:t.promise),m.onmessage[n]={time:new Date,cb:i},a.send(u,{eventType:o,promise:n,msg:t}),i.promise}},o.db=function(e){if(d){var r=[];return"object"==typeof e?r=e:"string"==typeof e&&r.push(e),d.connect(l,r)}return"diskdb is not installed and/or configured."};try{o.require=require("remote").require,o.remote=require("remote"),o.app=o.require("app"),o.browserWindow=o.require("browser-window"),o.clipboard=o.require("clipboard"),o.dialog=o.require("dialog"),o.menu=o.require("menu"),o.menuItem=o.require("menu-item"),o.nativeImage=o.require("native-image"),o.powerMonitor=o.require("power-monitor"),o.protocol=o.require("protocol"),o.screen=o.require("screen"),o.shell=o.require("shell"),o.tray=o.require("tray"),o.buffer=o.require("buffer"),o.childProcess=o.require("child_process"),o.crypto=o.require("crypto"),o.dns=o.require("dns"),o.emitter=o.require("events").EventEmitter,o.fs=o.require("fs"),o.http=o.require("http"),o.https=o.require("https"),o.net=o.require("net"),o.os=o.require("os"),o.path=o.require("path"),o.querystring=o.require("querystring"),o.url=o.require("url"),o.zlib=o.require("zlib")}catch(t){console.error("electron modules not loaded => ",t)}return o}function n(e,r){a&&(console.log("ngElectron has joined the room."),a.on(s,function(r){e.$broadcast(c,r),t(r)}),e.$electron=r)}e.module("phxApp").run(n).factory("electron",i);var u="ELECTRON_BRIDGE_HOST",s="ELECTRON_BRIDGE_CLIENT",c="electron-host",l="client/data",a=null,d=null,p=0,m={onmessage:[]};try{a=require("ipc")}catch(q){console.error("modules not loaded:ipc => ",q)}try{d=require("diskdb")}catch(q){console.error("modules not loaded:diskdb => ",q)}n.$inject=["$rootScope","electron"],i.$inject=["$q"]}(window.angular);